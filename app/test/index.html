<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Страница тестирования</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        
        .test-suite {
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .test-case {
            margin-bottom: 10px;
        }
        
        .passed {
            color: green;
        }
        
        .failed {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Страница тестирования</h1>
    
    <div class="test-suite">
        <h2>Тест валидации ссылок</h2>
        <div id="url-validation-tests" class="test-results"></div>
    </div>

    <script type="module">
        import { validateURL } from '../utils.js';

        class TestSuite {
            constructor(testResultsId) {
                this.results = [];
                this.testResultsElement = document.getElementById(testResultsId);
            }
            
            equal(actual, expected, message) {
                const result = actual === expected;
                this.results.push({ result, message });
                this.displayResult(result, message);
                return result;
            }
            
            displayResult(result, message) {
                const div = document.createElement('div');
                div.classList.add('test-case', result ? 'passed' : 'failed');
                div.textContent = result ? `✅ ${message}` : `❌ ${message}`;
                this.testResultsElement.appendChild(div);
            }
        }

        const validateURLTests = new TestSuite('url-validation-tests');
        validateURLTests.equal(validateURL('htt://yandex.ru'), false, 'incorrect protocol');
        validateURLTests.equal(validateURL('https://yandex.ru/asdf'), true, 'correct format');
        validateURLTests.equal(validateURL('http://.ru'), false, 'no domain');
    </script>
</body>
</html>
